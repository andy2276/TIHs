# 매니지드 오브젝트
1. prepare 의 재설계가 필요하다 -> 근데 이걸 지금 하는게 맞겠지? 더 나은 구조가 나왔는데 더 단순하고 맞는게 나왔는데 말이지? 그럼 다시만들자. 담탐한번 가지고 다시하자.
	1. prepare에는 유오브젝트의 uclass 의 해쉬 
	2. 그것의 갯수
	3. 만들 곳 만있으면 된다.
2. 그럼 그걸 가지고 뭐가 되었든간에 그걸 분석해준다. 
	1. 분석후에 이미 같은 종류가 있었다면 그걸 넘겨준다.
		1. 같은 종류인지는 어떻게 아는가?
			1. 계층구조가 같아야한다. 그럼 계층구조가 같은건 어떻게 아는가?
				1. 컴포넌트 순서가 일치해야한다 
			2. 가지고 있는 set 이 일치해야한다.
			3. 그럼 다시 말해서 가지고 있는 set 이 같아야하고, 가지고 있는 컴포넌트의 순서가 같아야한다.
	2. 아니라면 새롭게 만들기 위한 분석에 들어간다
		1. 액터라면 컴포넌트들을 분석한다.
			2. 이를 위한 leaf 들과 composite 들을 연결해주고 매니지드 오브젝트안에 넣어놓는다.
			3. 매니지드 오브젝트는 액터의 포인터를 가지고, 액터들의 씬들을 가진다
				1. 그씬에 맞는 leaf 들은 직접적으로 컨트롤 해주는 wrap 을 가지며, 해당매니지드 오브젝트에게 있든 말든 명령을 하면 일단 query 해보고 없으면 말고를 한다.
				2. 그럴려면 해당 언리얼컴포넌트가 있는지 물어보고 있다면 해당 leaf 를 작동시키는 방식
				3. 일단 움직이고 싶다면 그냥 move 를 호출하면 자동으로 root 를 이동
				4. st매쉬를 셋하고 싶다면 첫번째 만나는 st매쉬의 메쉬를 변경
					1. 혹은 특정 매쉬가 있는지 가능한지 물어보고 변경
				5. 이렇게 만든이유가 커스텀 액터를 만들고 커스텀 컴포넌트를 만들었을때 공통의 기능이 가능하도록 하기위해서임 .그래서 그 공통의 기능을 다른사람들도 셋하기 위해서 가능한지 쿼리하는걸 해당 유컴포넌트의 해쉬가 있는지 물어보는걸로 했고, 그럼 해당 유씬이 가지는 기능(leaf) 는 무엇인지 로 했음. 만약 내가 찾는 leaf 의 hash 와 같다면 나는 그걸로 강제 캐스팅 혹은 있다는 전재하에 정보를 넘기면 됨.
					1. 그걸 위해서 템플릿을 만들고 일단 get 하게 해야함. 그럼 내부에선 그걸로 캐스팅 하는게 아니라 그것의 해쉬를 보고 해당 리프와 같다면 진짜 그 리프를 캐스팅 해서 넘겨주고 아니면 nullptr 을 리턴해주면 된다.
					2. 그럼 라이브러리 사용자는 있는지 없는지 알바아니고 그냥 일단 쓰고 없으면 마는 형태가 만들어짐.
		2. 위젯은 직접적으로 자기자신을 상속받는다.
			1. 그렇기때문에 컴포넌트가 직접적인 위젯을 가르키면 된다.
			2. 매니지드오브젝트는 그럼 루트를 가르키게된다.
## 그래서 구조는
+ 액터는
	+ 매니지드 오브젝트는 액터 그자체를 가르킨다.
	+ 컴포넌트는 씬을 가르킨다.
		+ 컴포넌트는 씬을 직접적으로 가르키면서 계층화 되어있다
		+ 컴포넌트의 각 기능은 리프로 나눠서 만든다.
+ ui 는
	+ 매니지드 오브젝트는 ui 전체를 가르킨다
		+ 컴포넌트들은 직접적인 ui 를 가르킨다.
		+ 리프는 기능을 가르킨다.
## mngobj
+ mCompositeTable 로만 확인할지 아닐지. 이게 나은가? 그니깐 테이블에서 이게 있니? 확인 가능하고, 그게의 구조가 해당 계층구조가 맞는지 -> 그럼 해당 액터가 그 계층구조가 맞는지 확인가능하거든. 그냥 구조와 갯수로하자. -> 생각해보니 테이블을 통해서 바로 접근하는게 좋을거같아 tArray 변
+ 그럼 기능은?
	+ 컴포넌트들의 포인터를 담아놓는곳
	+ 해당 컴포넌트들이 있는지 어디있는지 갯수는 몇개인지 확인이 가능한곳
	+ 어떤 uobject 유형인지 정보가 있어야한다.
	+ 자신의 것을 분석할줄 알아야한다. 
	+ 헤더로 이게 뭔지 알수있어야한다.
	+ 해당 녀석의 상태를 알아야한다.
	+ 상태는 간단하게 만들어야한다.
		+ 컨텐츠가 유무
			+ 
		+ 초기화가 유무
			+ 컨텐츠가 있다해도 그에 따른 초기화를 진행하지 않았다면 이게 켜져있음
		+ 스테이징 유무
			+ 이게 풀링되었는지 리젝트 되었는지 여부임
		+ 사용여부
			+ 계속 사용할 것인지 혹은 이걸 리젝트 할지 를 정하는거임. 스테이징되어있어도 이걸 할당하지 않았다면 그건 리젝트되어 렌더 자원을 아껴야함.
		+ 더티 여부
			+ 만약 매니지드 오브젝트의 부모를 변경하거나 뭐 그래야할경우나 그럴때 인텔리 센스가 읽고 처리하기 위함임. 
			+ 이거는 진짜로 매니지드 오브젝트의 구조를 변경해야하거나 그럴때 사용하는거임.
## factory
+ 매니지드오브젝트를 만들어주는역할을한다.
+ 그냥 매니지드 오브젝트를 몇개 만들지만 정해져있음.
	+ 즉 프리페어 할때 해당 오브젝트가 어떤 유형지